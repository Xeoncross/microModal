/**
 * microModal
 *
 * A tiny jQuery modal plugin which does NOT require existing DOM elements.
*/
(function(a){a.microModal=function(f,e){var g={title:null,footer:'<button class="modal-close btn">close</a>',theme:null,top:null,width:null,speed:200,overlayClose:true,closeOnEscape:true,closeButtonClass:".modal-close",onOpen:false,onClose:false};var h=a.extend(g,e);var b=a('<div class="modal-overlay '+h.theme+'"></div>').appendTo("body");var d=a('<div class="modal '+h.theme+'"></div>');if(h.width){d.width(h.width)}var c=a('<div class="modal-content"></div>').append(f);if(h.title){d.append('<div class="modal-header"><a href="#" class="modal-close">&times;</a><h3>'+h.title+"</h3></div>")}d.append(c);if(h.footer){d.append('<div class="modal-footer">'+h.footer+"</div>")}d.appendTo("body");d.css({display:"none",position:"fixed","z-index":2001,left:50+"%",top:parseInt(h.top)>-1?h.top+"px":50+"%","margin-left":-(d.outerWidth()/2)+"px","margin-top":(parseInt(h.top)>-1?0:-(d.outerHeight()/2))+"px"});d.bind("openModal",function(i){a(this).css("display","block");b.fadeIn(h.speed,function(){if(h.onOpen&&typeof(h.onOpen)==="function"){h.onOpen(d[0])}})}).trigger("openModal");d.bind("closeModal",function(i){a(this).css("display","none").remove();b.fadeOut(h.speed,function(){b.remove();if(h.onClose&&typeof(h.onClose)==="function"){h.onClose(d[0])}})});b.click(function(){if(h.overlayClose){d.trigger("closeModal")}});a(document).keydown(function(i){if(h.closeOnEscape&&i.keyCode==27){d.trigger("closeModal")}});d.find(h.closeButtonClass).click(function(i){d.trigger("closeModal");i.preventDefault()})}})(jQuery);
